---
lang: zh-CN
title: æœºåˆ¶
description: ä¸€äº›æœºåˆ¶ï¼Œè¿˜æœ‰ä¸€äº›æ•°ä¸ä¸Šåçš„å°ç©æ„
---

### å‹å¥½é€ç¤¼ ğŸï¼ˆ0.9.0+ï¼‰

ä½¿ç©å®¶èƒ½å¤Ÿé€šè¿‡ç»™æ‘æ°‘é€ç¤¼æ¥æ¢å¤ä¸€å®šçš„å£°æœ›å€¼ï¼

è¿™ä¸€é€‰é¡¹ä¸‹æœ‰å››ä¸ªæ–°å¢çš„æ ‡ç­¾ï¼š
* `andromeda:villager_gifts/major_positive` ä¸‹çš„ç‰©å“å°†è·å¾— 15 ç‚¹å£°æœ›
* `andromeda:villager_gifts/minor_positive` ä¸‹çš„ç‰©å“å°†è·å¾— 3 ç‚¹å£°æœ›
* `andromeda:villager_gifts/major_negative` ä¸‹çš„ç‰©å“å°†æ‰£é™¤ 15 ç‚¹å£°æœ›
* `andromeda:villager_gifts/minor_negative` ä¸‹çš„ç‰©å“å°†æ‰£é™¤ 3 ç‚¹å£°æœ›

ä½ å¯ä»¥åœ¨è¿™é‡Œ [andromeda/tags/items/villager_gifts/](https://github.com/melontini/andromeda/tree/1.19-fabric/src/main/resources/data/andromeda/tags/items/villager_gifts) æŸ¥çœ‹ç¤¼å“é¢„è®¾ã€‚

### æœ«åœ°é¾™æˆ˜è°ƒæ•´ ğŸ‰ï¼ˆ0.6.0+ï¼‰

#### 1. æœ«å½±æ°´æ™¶å†ç”Ÿæˆ

ä½¿æœ«å½±æ°´æ™¶èƒ½å¤Ÿåœ¨å¤§çº¦ 1.6-3 åˆ†é’Ÿåå†ç”Ÿæˆã€‚è¿™ä¼šå¤§å¹…æå‡æˆ˜æ–—çš„éš¾åº¦ï¼Œå½“ç„¶ï¼Œä¹Ÿä¼šæ›´çƒ¦äººä¸€ç‚¹ã€‚

#### 2. é›†ç¾¤å¼ºåŒ–

æ ¹æ®æœ€å¤§åœ¨æœ«åœ°çš„ç©å®¶æ•°é‡æå‡æœ«å½±é¾™ç”Ÿå‘½å€¼ã€‚

è®¡ç®—å…¬å¼ï¼š`Math.floor((Math.sqrt(500 * i)) * 10)`ï¼Œi ä¸ºæœ€å¤§ç©å®¶æ•°é‡ã€‚

#### 3. æ›´çŸ­çš„æ°´æ™¶æ²»ç–—è·ç¦»

å°†æ°´æ™¶çš„æ²»ç–—è·ç¦»ç”± 32 é™ä½è‡³ 24 æ ¼ã€‚

#### 4. æ›´çŸ­çš„é»‘æ›œçŸ³æŸ±

è®©æ–°ç”Ÿæˆçš„é»‘æ›œçŸ³æŸ±æ›´çŸ­ã€‚

***
### å¯æŠ•æ·ç‰©å“ ğŸ¥ï¼ˆ0.5.0+ï¼‰

ä½¿ä¸€äº› æœ¬æ¥å¯èƒ½ç”¨ä¸ä¸Š* çš„ç‰©å“å˜å¾—å¯æŠ•æ·

::: details 0.5.0 ç‰ˆæœ¬ä¸­ï¼Œå¯æŠ•æ·çš„ç‰©å“

***

* éª¨ç²‰
* å¢¨å›Šå’Œå‘å…‰å¢¨å›Š
* æ‰€æœ‰æŸ“æ–™
* æ™®é€šç –å¤´å’Œä¸‹ç•Œç –
* ç«ç„°å¼¹
* ç«è¯

æ¬¢è¿æä¾›æ–°ç‚¹å­ï¼

:::

ç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„é€‰é¡¹ï¼šåƒµå°¸èƒ½å¦æŠ•æ·ç‰©å“ï¼Ÿ

è‹¥å¯ç”¨ï¼Œåƒµå°¸å°†èƒ½å¤ŸæŠ•æ·å®ƒä»¬æ‰€æ‹¾èµ·çš„å¯æŠ•æ·ç‰©å“ã€‚

::: details è‡ªå®šä¹‰æŠ•æ·è¡Œä¸º

æ‰€æœ‰è‡ªå®šä¹‰æŠ•æ·è¡Œä¸ºéƒ½éœ€è¦è¢«æ”¾åˆ°ä½ çš„æ•°æ®åŒ…çš„ `andromeda/item_throw_behavior` æ–‡ä»¶å¤¹ä¸‹, å’Œ `recipes`ï¼Œ`tags`ï¼Œ`loot_tables` ä¹‹ç±»çš„ä¸€å—ã€‚æ–‡ä»¶åå¯ä»»å–ã€‚

ç¾¤æ˜Ÿ 1.10.0 å¼•å…¥äº†ä¸€ç§å…¨æ–°çš„ã€é«˜åº¦è‡ªå®šä¹‰çš„æ•°æ®åŒ…æ ¼å¼ã€‚
äº‹ä»¶å’Œå‘½ä»¤æ± æ˜¯è¿™ä¸€æ ¼å¼çš„ä¸»è¦æ¦‚å¿µã€‚

### äº‹ä»¶

äº‹ä»¶ä»£è¡¨æŠ•æ·ç‰©å‡»ä¸­çš„ä¸œè¥¿ã€‚æ ‡å‡†çš„äº‹ä»¶åŒ…æ‹¬ï¼š`andromeda:block`ï¼Œ`andromeda:entity`ï¼Œ`andromeda:miss` å’Œ `andromeda:any`ã€‚

ç‰¹å®šçš„äº‹ä»¶è¿˜å¯èƒ½æ”¯æŒé¢å¤–çš„å‘½ä»¤æ± ç§ç±»ã€‚

åƒè¿™æ ·ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªäº‹ä»¶ï¼š

```json
"events": [
  {
    "type": "andromeda:any",
    "condition": {},
    "commands": []
  }
]
```

`condition`ï¼ˆæ¡ä»¶ï¼‰ç”¨æ¥å†³å®šäº‹ä»¶èƒ½å¦è¢«æ‰§è¡Œã€‚ä¸åŸç‰ˆæ•°æ®åŒ…çš„ predicate ç±»ä¼¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»ä¼¼è¿™ä¸ª [misode.github.io](https://misode.github.io/predicate/) çš„å·¥å…·æ¥è¾…åŠ©ä½ ç¼–å†™æ¡ä»¶ã€‚

ä¸‹é¢çš„å‚æ•°ä¼šæœ‰ä¸€äº›ä¸ä¸€æ ·ï¼š

| å‚æ•°  |   |
|---|---|
| `direct_killer_entity`  |  æŠ•æ·ç‰© |
| `tool`  |  æŠ•æ·ç‰©ç‰©å“ |
| `killer_entity`  |  æŠ•æ·è€… |
| `this_entity`  |  å—å‡»å®ä½“ |
| `block_entity`  |  å—å‡»æ–¹å—å®ä½“ |
| `block_state`  |  å—å‡»æ–¹å—çŠ¶æ€ |

### å‘½ä»¤æ± 

å‘½ä»¤æ± ä»£è¡¨äº‹ä»¶è§¦å‘çš„è‡ªå®šä¹‰è¡Œä¸ºã€‚

ä¸äº‹ä»¶ä¸€æ ·ï¼Œå‘½ä»¤æ± ä¹Ÿå¯ä»¥æŒ‡å®šæ¡ä»¶ã€‚

`particles`ï¼ˆç²’å­ï¼‰ç”¨äºåœ¨äº‹ä»¶è§¦å‘å¤„ç”Ÿæˆå½©è‰²/ç‰©å“ç ´åç²’å­æ•ˆæœã€‚

```json
"particles": {
  "item": true,
  "colors": [255, 0, 255]
}
```

æœ¬æ¨¡ç»„æä¾›äº†å¤šç§å‘½ä»¤æ‰§è¡Œæºä¾›ä½ é€‰æ‹©ï¼ŒåŒ…æ‹¬ `andromeda:item`ï¼ˆæŠ•æ·ç‰©ï¼‰ï¼Œ`andromeda:user`ï¼ˆæŠ•æ·è€…ï¼Œå¦‚æœå­˜åœ¨ï¼‰ï¼Œ`andromeda:server`ï¼ˆæœåŠ¡ç«¯ï¼‰ï¼Œ`andromeda:hit_entity`ï¼ˆå—å‡»å®ä½“ï¼‰å’Œ `andromeda:hit_block`ï¼ˆå—å‡»æ–¹å—ï¼‰ã€‚

```json
"commands": [
  {
    "type": "andromeda:hit_entity",
    "commands": [
      "/effect give @s minecraft:blindness 5 0 true",
      "/effect give @s minecraft:glowing 5 0 true"
    ]
  }
]
```

æ­¤å¤–ï¼Œä¹Ÿæœ‰ç¨å¾®å¤æ‚ä¸€äº›çš„â€œé€»è¾‘â€ç±»å‘½ä»¤ï¼Œæ¯”å¦‚ `andromeda:random`ï¼ˆéšæœºï¼‰ï¼Œ`andromeda:defaulted`ï¼ˆé»˜è®¤ï¼‰ï¼Œ`andromeda:all_of`ï¼ˆå…¨éƒ¨ï¼‰ å’Œ `andromeda:any_of`ï¼ˆä»»ä¸€ï¼‰ã€‚

`andromeda:random`ï¼ˆéšæœºï¼‰ï¼š

è¿™ç§ç±»å‹å¯ä»¥æŒ‰æƒé‡ï¼ˆweightï¼‰å’Œè½®æ¬¡ï¼ˆrollï¼Œé»˜è®¤ä¸º 1ï¼‰æ‰§è¡Œå‘½ä»¤ã€‚

```json
{
  "type": "andromeda:random",
  "rolls": 3,
  "commands": [
    {
      "weight": 3,
      "data": {
        "type": "andromeda:item",
        "particles": {
          "item": true,
          "colors": [5, 36, 99]
        }
      }
    },
    {
      "weight": 1,
      "data": {
        "type": "andromeda:item",
        "particles": {
          "item": true,
          "colors": [0, 255, 0]
        }
      }
    }
  ]
}
```

`andromeda:defaulted`ï¼ˆé»˜è®¤ï¼‰:

è¿™ä¸€ç±»å‹æä¾›äº†åå¤‡åŠŸèƒ½ã€‚å¦‚æœ**æ‰€æœ‰**åœ¨ `commands`ï¼ˆå‘½ä»¤ï¼‰ä¸­çš„å‘½ä»¤éƒ½æ²¡èƒ½æ‰§è¡Œï¼ˆæœªé€šè¿‡æ¡ä»¶ï¼‰ï¼Œå°†ä½¿ç”¨ `default`ï¼ˆé»˜è®¤ï¼‰ä¸­çš„å‘½ä»¤ã€‚

```json
{
  "type": "andromeda:defaulted",
  "default": [
    {
      "type": "andromeda:hit_block",
      "particles": {
        "item": true,
        "colors": [121, 28, 39]
      }
    }
  ],
  "commands": [
    {
      "type": "andromeda:hit_block",
      "condition": {
        "condition": "minecraft:block_state_property",
        "block": "minecraft:stone"
      },
      "particles": {
        "item": true,
        "colors": [5, 5, 8]
      }
    }
  ]
}
```

`andromeda:all_of`ï¼ˆå…¨éƒ¨ï¼‰å’Œ `andromeda:any_of`ï¼ˆä»»ä¸€ï¼‰:

å®ƒä»¬ä¸ `andromeda:defaulted` ç±»ä¼¼ï¼Œä½†å®ƒä»¬é‡Œé¢çš„ `default` åº”è¯¥å†™ä¸º `then`ã€‚

***

æ‰€æœ‰å‘½ä»¤çš„ç§ç±»éƒ½å¯ä»¥ç›¸äº’åµŒå¥—ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰ï¼šâ€œdefaultedï¼ˆé»˜è®¤ï¼‰â€å›é€€åˆ°â€œall ofï¼ˆæ‰€æœ‰ï¼‰â€å†åˆ°â€œany ofï¼ˆä»»ä¸€ï¼‰â€å†åˆ°â€œdefaultedï¼ˆé»˜è®¤ï¼‰â€å†åˆ°å¸¦â€œdefaultedï¼ˆé»˜è®¤ï¼‰â€çš„â€œrandomï¼ˆéšæœºï¼‰â€ä»£ç å—ã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°ä¸€äº›ä¾‹å­ï¼š[gist.github.com](https://gist.github.com/melontini/5a516acfe108712804319055085bb355)

æ³¨æ„ï¼Œäº‹ä»¶/æ¡ä»¶/å‘½ä»¤çš„ `typeï¼ˆç§ç±»ï¼‰` æ— æ•ˆæ—¶ï¼Œä¸ä¼šæŠ¥é”™ï¼æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚

***

æ‚ç±»é€‰é¡¹ï¼š

| é€‰é¡¹  |   |
|---|---|
| `complement`  |  ç¦ç”¨å°†é˜»æ­¢è¯¥ç‰©å“çš„æ‰€æœ‰éæŠ•æ·è¡Œä¸º |
| `cooldown`  |  ä¸ºä½ çš„ç‰©å“è®¾ç½®æŠ•æ·å†·å´ï¼ˆåˆ»ï¼‰ |
| `disabled`  |  é˜»æ­¢è¯¥ç‰©å“çš„æ‰€æœ‰è¡Œä¸º |
| `override_vanilla`  |  å¯ç”¨å°†é˜»æ­¢è¯¥ç‰©å“çš„æ‰€æœ‰åŸç‰ˆè¡Œä¸ºã€‚ä¸æ¨èç”¨äºæ–¹å—ç‰©å“ï¼Œå› ä¸ºä½ ä¼šæ— æ³•æ”¾ç½®å®ƒä»¬ |

:::

***
### æµæµªå•†äººå·è§’ ğŸï¼ˆ0.4+ï¼‰

æ¯ä¸¤å¤©ï¼Œä½ éƒ½èƒ½ä½¿ç”¨â€œæ­Œé¢‚â€å·è§’æ¥å¬å”¤ä¸€ä½æµæµªå•†äººã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæµæµªå•†äººä»ç„¶ä¼šè‡ªç„¶ç”Ÿæˆã€‚

ä½ å¯ä»¥é€šè¿‡ç¦ç”¨ \"doTraderSpawning\" çš„æ¸¸æˆè§„åˆ™ï¼Œæ¥ç¦ç”¨æµæµªå•†äººè‡ªç„¶ç”Ÿæˆã€‚
